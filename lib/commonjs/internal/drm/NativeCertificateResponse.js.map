{"version":3,"names":["fromNativeCertificateResponse","response","url","status","statusText","headers","base64body","request","body","fromBase64StringToUint8Array","Uint8Array","fromNativeCertificateRequest","toNativeCertificateResponseResult","requestId","integrationId","keySystemId","fromUint8ArrayToBase64String"],"sources":["NativeCertificateResponse.ts"],"sourcesContent":["import type { NativeContentProtectionEvent } from './NativeContentProtectionEvent';\nimport type { CertificateResponse } from 'react-native-theoplayer';\nimport type { NativeCertificateRequest } from './NativeCertificateRequest';\nimport { fromNativeCertificateRequest } from './NativeCertificateRequest';\nimport { fromBase64StringToUint8Array, fromUint8ArrayToBase64String } from 'react-native-theoplayer';\n\nexport interface NativeCertificateResponse extends NativeContentProtectionEvent {\n  url: string;\n  status: number;\n  statusText: string;\n  headers: { [headerName: string]: string };\n  base64body: string;\n  request: NativeCertificateRequest;\n}\n\nexport interface NativeCertificateResponseResult extends NativeContentProtectionEvent {\n  base64body: string;\n}\n\nexport function fromNativeCertificateResponse(response: NativeCertificateResponse): CertificateResponse {\n  const { url, status, statusText, headers, base64body, request } = response;\n  const body = base64body ? fromBase64StringToUint8Array(base64body) : new Uint8Array();\n  return {\n    url,\n    status,\n    statusText,\n    headers,\n    body,\n    request: fromNativeCertificateRequest(request),\n  };\n}\n\nexport function toNativeCertificateResponseResult(\n  requestId: string,\n  integrationId: string,\n  keySystemId: string,\n  response: ArrayBuffer,\n): NativeCertificateResponseResult {\n  return {\n    requestId,\n    integrationId,\n    keySystemId,\n    base64body: response ? fromUint8ArrayToBase64String(new Uint8Array(response)) : '',\n  };\n}\n"],"mappings":";;;;;;;;AAGA;;AACA;;AAeO,SAASA,6BAAT,CAAuCC,QAAvC,EAAiG;EACtG,MAAM;IAAEC,GAAF;IAAOC,MAAP;IAAeC,UAAf;IAA2BC,OAA3B;IAAoCC,UAApC;IAAgDC;EAAhD,IAA4DN,QAAlE;EACA,MAAMO,IAAI,GAAGF,UAAU,GAAG,IAAAG,mDAAA,EAA6BH,UAA7B,CAAH,GAA8C,IAAII,UAAJ,EAArE;EACA,OAAO;IACLR,GADK;IAELC,MAFK;IAGLC,UAHK;IAILC,OAJK;IAKLG,IALK;IAMLD,OAAO,EAAE,IAAAI,sDAAA,EAA6BJ,OAA7B;EANJ,CAAP;AAQD;;AAEM,SAASK,iCAAT,CACLC,SADK,EAELC,aAFK,EAGLC,WAHK,EAILd,QAJK,EAK4B;EACjC,OAAO;IACLY,SADK;IAELC,aAFK;IAGLC,WAHK;IAILT,UAAU,EAAEL,QAAQ,GAAG,IAAAe,mDAAA,EAA6B,IAAIN,UAAJ,CAAeT,QAAf,CAA7B,CAAH,GAA4D;EAJ3E,CAAP;AAMD"}