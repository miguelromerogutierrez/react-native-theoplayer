{"version":3,"names":["fromNativeLicenseResponse","response","url","status","statusText","headers","base64body","request","body","fromBase64StringToUint8Array","Uint8Array","fromNativeLicenseRequest","toNativeLicenseResponseResult","requestId","integrationId","keySystemId","fromUint8ArrayToBase64String"],"sources":["NativeLicenseResponse.ts"],"sourcesContent":["import type { NativeContentProtectionEvent } from './NativeContentProtectionEvent';\nimport type { LicenseResponse } from 'react-native-theoplayer';\nimport type { NativeLicenseRequest } from './NativeLicenseRequest';\nimport { fromNativeLicenseRequest } from './NativeLicenseRequest';\nimport { fromBase64StringToUint8Array, fromUint8ArrayToBase64String } from 'react-native-theoplayer';\n\nexport interface NativeLicenseResponse extends NativeContentProtectionEvent {\n  url: string;\n  status: number;\n  statusText: string;\n  headers: { [headerName: string]: string };\n  base64body: string;\n  request: NativeLicenseRequest;\n}\n\nexport interface NativeLicenseResponseResult extends NativeContentProtectionEvent {\n  base64body: string;\n}\n\nexport function fromNativeLicenseResponse(response: NativeLicenseResponse): LicenseResponse {\n  const { url, status, statusText, headers, base64body, request } = response;\n  const body = base64body ? fromBase64StringToUint8Array(base64body) : new Uint8Array();\n  return {\n    url,\n    status,\n    statusText,\n    headers,\n    body,\n    request: fromNativeLicenseRequest(request),\n  };\n}\n\nexport function toNativeLicenseResponseResult(\n  requestId: string,\n  integrationId: string,\n  keySystemId: string,\n  response: ArrayBuffer,\n): NativeLicenseResponseResult {\n  return {\n    requestId,\n    integrationId,\n    keySystemId,\n    base64body: response ? fromUint8ArrayToBase64String(new Uint8Array(response)) : '',\n  };\n}\n"],"mappings":";;;;;;;;AAGA;;AACA;;AAeO,SAASA,yBAAT,CAAmCC,QAAnC,EAAqF;EAC1F,MAAM;IAAEC,GAAF;IAAOC,MAAP;IAAeC,UAAf;IAA2BC,OAA3B;IAAoCC,UAApC;IAAgDC;EAAhD,IAA4DN,QAAlE;EACA,MAAMO,IAAI,GAAGF,UAAU,GAAG,IAAAG,mDAAA,EAA6BH,UAA7B,CAAH,GAA8C,IAAII,UAAJ,EAArE;EACA,OAAO;IACLR,GADK;IAELC,MAFK;IAGLC,UAHK;IAILC,OAJK;IAKLG,IALK;IAMLD,OAAO,EAAE,IAAAI,8CAAA,EAAyBJ,OAAzB;EANJ,CAAP;AAQD;;AAEM,SAASK,6BAAT,CACLC,SADK,EAELC,aAFK,EAGLC,WAHK,EAILd,QAJK,EAKwB;EAC7B,OAAO;IACLY,SADK;IAELC,aAFK;IAGLC,WAHK;IAILT,UAAU,EAAEL,QAAQ,GAAG,IAAAe,mDAAA,EAA6B,IAAIN,UAAJ,CAAeT,QAAf,CAA7B,CAAH,GAA4D;EAJ3E,CAAP;AAMD"}