{"version":3,"names":["fromNativeLicenseRequest","fromBase64StringToUint8Array","fromUint8ArrayToBase64String","fromNativeLicenseResponse","response","url","status","statusText","headers","base64body","request","body","Uint8Array","toNativeLicenseResponseResult","requestId","integrationId","keySystemId"],"sources":["NativeLicenseResponse.ts"],"sourcesContent":["import type { NativeContentProtectionEvent } from './NativeContentProtectionEvent';\nimport type { LicenseResponse } from 'react-native-theoplayer';\nimport type { NativeLicenseRequest } from './NativeLicenseRequest';\nimport { fromNativeLicenseRequest } from './NativeLicenseRequest';\nimport { fromBase64StringToUint8Array, fromUint8ArrayToBase64String } from 'react-native-theoplayer';\n\nexport interface NativeLicenseResponse extends NativeContentProtectionEvent {\n  url: string;\n  status: number;\n  statusText: string;\n  headers: { [headerName: string]: string };\n  base64body: string;\n  request: NativeLicenseRequest;\n}\n\nexport interface NativeLicenseResponseResult extends NativeContentProtectionEvent {\n  base64body: string;\n}\n\nexport function fromNativeLicenseResponse(response: NativeLicenseResponse): LicenseResponse {\n  const { url, status, statusText, headers, base64body, request } = response;\n  const body = base64body ? fromBase64StringToUint8Array(base64body) : new Uint8Array();\n  return {\n    url,\n    status,\n    statusText,\n    headers,\n    body,\n    request: fromNativeLicenseRequest(request),\n  };\n}\n\nexport function toNativeLicenseResponseResult(\n  requestId: string,\n  integrationId: string,\n  keySystemId: string,\n  response: ArrayBuffer,\n): NativeLicenseResponseResult {\n  return {\n    requestId,\n    integrationId,\n    keySystemId,\n    base64body: response ? fromUint8ArrayToBase64String(new Uint8Array(response)) : '',\n  };\n}\n"],"mappings":"AAGA,SAASA,wBAAT,QAAyC,wBAAzC;AACA,SAASC,4BAAT,EAAuCC,4BAAvC,QAA2E,yBAA3E;AAeA,OAAO,SAASC,yBAAT,CAAmCC,QAAnC,EAAqF;EAC1F,MAAM;IAAEC,GAAF;IAAOC,MAAP;IAAeC,UAAf;IAA2BC,OAA3B;IAAoCC,UAApC;IAAgDC;EAAhD,IAA4DN,QAAlE;EACA,MAAMO,IAAI,GAAGF,UAAU,GAAGR,4BAA4B,CAACQ,UAAD,CAA/B,GAA8C,IAAIG,UAAJ,EAArE;EACA,OAAO;IACLP,GADK;IAELC,MAFK;IAGLC,UAHK;IAILC,OAJK;IAKLG,IALK;IAMLD,OAAO,EAAEV,wBAAwB,CAACU,OAAD;EAN5B,CAAP;AAQD;AAED,OAAO,SAASG,6BAAT,CACLC,SADK,EAELC,aAFK,EAGLC,WAHK,EAILZ,QAJK,EAKwB;EAC7B,OAAO;IACLU,SADK;IAELC,aAFK;IAGLC,WAHK;IAILP,UAAU,EAAEL,QAAQ,GAAGF,4BAA4B,CAAC,IAAIU,UAAJ,CAAeR,QAAf,CAAD,CAA/B,GAA4D;EAJ3E,CAAP;AAMD"}