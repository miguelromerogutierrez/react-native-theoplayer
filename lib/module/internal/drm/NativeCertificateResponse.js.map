{"version":3,"names":["fromNativeCertificateRequest","fromBase64StringToUint8Array","fromUint8ArrayToBase64String","fromNativeCertificateResponse","response","url","status","statusText","headers","base64body","request","body","Uint8Array","toNativeCertificateResponseResult","requestId","integrationId","keySystemId"],"sources":["NativeCertificateResponse.ts"],"sourcesContent":["import type { NativeContentProtectionEvent } from './NativeContentProtectionEvent';\nimport type { CertificateResponse } from 'react-native-theoplayer';\nimport type { NativeCertificateRequest } from './NativeCertificateRequest';\nimport { fromNativeCertificateRequest } from './NativeCertificateRequest';\nimport { fromBase64StringToUint8Array, fromUint8ArrayToBase64String } from 'react-native-theoplayer';\n\nexport interface NativeCertificateResponse extends NativeContentProtectionEvent {\n  url: string;\n  status: number;\n  statusText: string;\n  headers: { [headerName: string]: string };\n  base64body: string;\n  request: NativeCertificateRequest;\n}\n\nexport interface NativeCertificateResponseResult extends NativeContentProtectionEvent {\n  base64body: string;\n}\n\nexport function fromNativeCertificateResponse(response: NativeCertificateResponse): CertificateResponse {\n  const { url, status, statusText, headers, base64body, request } = response;\n  const body = base64body ? fromBase64StringToUint8Array(base64body) : new Uint8Array();\n  return {\n    url,\n    status,\n    statusText,\n    headers,\n    body,\n    request: fromNativeCertificateRequest(request),\n  };\n}\n\nexport function toNativeCertificateResponseResult(\n  requestId: string,\n  integrationId: string,\n  keySystemId: string,\n  response: ArrayBuffer,\n): NativeCertificateResponseResult {\n  return {\n    requestId,\n    integrationId,\n    keySystemId,\n    base64body: response ? fromUint8ArrayToBase64String(new Uint8Array(response)) : '',\n  };\n}\n"],"mappings":"AAGA,SAASA,4BAAT,QAA6C,4BAA7C;AACA,SAASC,4BAAT,EAAuCC,4BAAvC,QAA2E,yBAA3E;AAeA,OAAO,SAASC,6BAAT,CAAuCC,QAAvC,EAAiG;EACtG,MAAM;IAAEC,GAAF;IAAOC,MAAP;IAAeC,UAAf;IAA2BC,OAA3B;IAAoCC,UAApC;IAAgDC;EAAhD,IAA4DN,QAAlE;EACA,MAAMO,IAAI,GAAGF,UAAU,GAAGR,4BAA4B,CAACQ,UAAD,CAA/B,GAA8C,IAAIG,UAAJ,EAArE;EACA,OAAO;IACLP,GADK;IAELC,MAFK;IAGLC,UAHK;IAILC,OAJK;IAKLG,IALK;IAMLD,OAAO,EAAEV,4BAA4B,CAACU,OAAD;EANhC,CAAP;AAQD;AAED,OAAO,SAASG,iCAAT,CACLC,SADK,EAELC,aAFK,EAGLC,WAHK,EAILZ,QAJK,EAK4B;EACjC,OAAO;IACLU,SADK;IAELC,aAFK;IAGLC,WAHK;IAILP,UAAU,EAAEL,QAAQ,GAAGF,4BAA4B,CAAC,IAAIU,UAAJ,CAAeR,QAAf,CAAD,CAA/B,GAA4D;EAJ3E,CAAP;AAMD"}