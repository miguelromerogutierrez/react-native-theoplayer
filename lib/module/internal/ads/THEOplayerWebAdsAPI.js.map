{"version":3,"names":["THEOplayerWebGoogleDAI","THEOplayerWebAdsAPI","constructor","_player","currentAdBreak","adBreak","nativePlayer","ads","Promise","resolve","reject","currentAds","playing","schedule","ad","scheduledAdBreaks","adBreaks","skip","dai","_dai","nativeDai","undefined"],"sources":["THEOplayerWebAdsAPI.ts"],"sourcesContent":["import type { Ad, AdDescription, AdBreak, AdsAPI } from \"react-native-theoplayer\";\nimport type { THEOplayerView } from \"../THEOplayerView.web\";\nimport type { GoogleDAI } from \"react-native-theoplayer\";\nimport { THEOplayerWebGoogleDAI } from \"./THEOplayerWebGoogleDAI\";\n\nexport class THEOplayerWebAdsAPI implements AdsAPI {\n\n  private _dai: GoogleDAI | undefined;\n\n  constructor(private readonly _player: THEOplayerView) {\n  }\n\n  currentAdBreak(): Promise<AdBreak> {\n    const adBreak = this._player.nativePlayer?.ads?.currentAdBreak;\n    return adBreak ? Promise.resolve(adBreak) : Promise.reject<AdBreak>();\n  }\n\n  currentAds(): Promise<Ad[]> {\n    const ads = this._player.nativePlayer?.ads?.currentAds;\n    return ads ? Promise.resolve(ads) : Promise.reject<Ad[]>();\n  }\n\n  playing(): Promise<boolean> {\n    return Promise.resolve<boolean>(this._player.nativePlayer?.ads?.playing || false);\n  }\n\n  schedule(ad: AdDescription): void {\n    this._player.nativePlayer?.ads?.schedule(ad);\n  }\n\n  scheduledAdBreaks(): Promise<AdBreak[]> {\n    const adBreaks = this._player.nativePlayer?.ads?.scheduledAdBreaks;\n    return adBreaks ? Promise.resolve(adBreaks) : Promise.reject<AdBreak[]>();\n  }\n\n  skip(): void {\n    this._player.nativePlayer?.ads?.skip();\n  }\n\n  get dai(): GoogleDAI | undefined {\n    if (!this._dai) {\n      const nativeDai = this._player.nativePlayer?.ads?.dai;\n      if (!nativeDai) {\n        // Not native DAI available\n        return undefined;\n      }\n      this._dai = new THEOplayerWebGoogleDAI(nativeDai);\n    }\n    return this._dai;\n  }\n}\n"],"mappings":";;AAGA,SAASA,sBAAT,QAAuC,0BAAvC;AAEA,OAAO,MAAMC,mBAAN,CAA4C;EAIjDC,WAAW,CAAkBC,OAAlB,EAA2C;IAAA,KAAzBA,OAAyB,GAAzBA,OAAyB;;IAAA;EACrD;;EAEDC,cAAc,GAAqB;IAAA;;IACjC,MAAMC,OAAO,4BAAG,KAAKF,OAAL,CAAaG,YAAhB,oFAAG,sBAA2BC,GAA9B,2DAAG,uBAAgCH,cAAhD;IACA,OAAOC,OAAO,GAAGG,OAAO,CAACC,OAAR,CAAgBJ,OAAhB,CAAH,GAA8BG,OAAO,CAACE,MAAR,EAA5C;EACD;;EAEDC,UAAU,GAAkB;IAAA;;IAC1B,MAAMJ,GAAG,6BAAG,KAAKJ,OAAL,CAAaG,YAAhB,qFAAG,uBAA2BC,GAA9B,2DAAG,uBAAgCI,UAA5C;IACA,OAAOJ,GAAG,GAAGC,OAAO,CAACC,OAAR,CAAgBF,GAAhB,CAAH,GAA0BC,OAAO,CAACE,MAAR,EAApC;EACD;;EAEDE,OAAO,GAAqB;IAAA;;IAC1B,OAAOJ,OAAO,CAACC,OAAR,CAAyB,gCAAKN,OAAL,CAAaG,YAAb,4GAA2BC,GAA3B,kFAAgCK,OAAhC,KAA2C,KAApE,CAAP;EACD;;EAEDC,QAAQ,CAACC,EAAD,EAA0B;IAAA;;IAChC,+BAAKX,OAAL,CAAaG,YAAb,4GAA2BC,GAA3B,kFAAgCM,QAAhC,CAAyCC,EAAzC;EACD;;EAEDC,iBAAiB,GAAuB;IAAA;;IACtC,MAAMC,QAAQ,6BAAG,KAAKb,OAAL,CAAaG,YAAhB,sFAAG,uBAA2BC,GAA9B,4DAAG,wBAAgCQ,iBAAjD;IACA,OAAOC,QAAQ,GAAGR,OAAO,CAACC,OAAR,CAAgBO,QAAhB,CAAH,GAA+BR,OAAO,CAACE,MAAR,EAA9C;EACD;;EAEDO,IAAI,GAAS;IAAA;;IACX,gCAAKd,OAAL,CAAaG,YAAb,+GAA2BC,GAA3B,oFAAgCU,IAAhC;EACD;;EAEM,IAAHC,GAAG,GAA0B;IAC/B,IAAI,CAAC,KAAKC,IAAV,EAAgB;MAAA;;MACd,MAAMC,SAAS,8BAAG,KAAKjB,OAAL,CAAaG,YAAhB,uFAAG,wBAA2BC,GAA9B,4DAAG,wBAAgCW,GAAlD;;MACA,IAAI,CAACE,SAAL,EAAgB;QACd;QACA,OAAOC,SAAP;MACD;;MACD,KAAKF,IAAL,GAAY,IAAInB,sBAAJ,CAA2BoB,SAA3B,CAAZ;IACD;;IACD,OAAO,KAAKD,IAAZ;EACD;;AA5CgD"}