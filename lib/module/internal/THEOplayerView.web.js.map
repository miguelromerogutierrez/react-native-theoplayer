{"version":3,"names":["React","PureComponent","AdEventNames","MediaTrackEventType","MediaTrackType","TextTrackEventType","TrackListEventType","THEOplayer","findNativeQualitiesByUid","fromNativeCue","fromNativeMediaTrack","fromNativeTextTrack","THEOplayerWebAdsAPI","THEOplayerView","constructor","props","track","event","onTextTrackEvent","cue","type","AddCue","trackUid","uid","RemoveCue","trackType","onMediaTrackEvent","quality","activeQuality","ActiveQualityChanged","qualities","undefined","onTextTrackListEvent","onMediaTrackListEvent","state","initialState","_adsApi","componentDidMount","config","source","abrConfig","element","document","querySelector","chromeless","_player","ChromelessPlayer","libraryLocation","Player","ui","fluid","Object","assign","abr","prepareWithUserAction","addEventListeners","componentWillUnmount","destroy","seek","time","isNaN","Error","currentTime","ads","nativePlayer","reset","setState","componentDidUpdate","prevProps","paused","volume","selectedTextTrack","selectedAudioTrack","selectedVideoTrack","targetVideoQuality","muted","playbackRate","fullscreen","wasPaused","prevSelectedTextTrack","prevSelectedAudioTrack","prevSelectedVideoTrack","prevTargetVideoQuality","prevSource","wasMuted","prevPlaybackRate","wasFullscreen","prevVolume","pause","play","Boolean","Number","onFullscreenPlayerWillPresent","onFullscreenPlayerWillDismiss","appContainer","getElementById","requestFullscreen","then","exitFullscreen","textTracks","forEach","textTrack","mode","audioTracks","audioTrack","enabled","videoTracks","videoTrack","find","targetQuality","maybeChangeBufferingState","isBuffering","wasBuffering","error","newIsBuffering","onBufferingStateChange","player","addEventListener","onSourceChange","onLoadStart","onLoadedData","onLoadedMetadata","map","duration","errorObject","errorCode","code","toString","errorMessage","message","onError","onProgress","seekable","i","length","push","start","end","onPlay","onPlaying","onPause","onSeeking","onSeeked","onEnded","readyState","onReadyStateChange","onTimeUpdate","currentProgramDateTime","getTime","onDurationChange","onSegmentNotFound","segmentStartTime","retryCount","presentation","presentationMode","onFullscreenPlayerDidPresent","onFullscreenPlayerDidDismiss","onAddTextTrackCue","onRemoveTextTrackCue","dispatchTextTrackListEvent","AddTrack","removeEventListener","RemoveTrack","ChangeTrack","Audio","Video","mediaTracks","onActiveQualityChanged","dispatchMediaTrackListEvent","onAdEvent","render"],"sources":["THEOplayerView.web.tsx"],"sourcesContent":["import React, { PureComponent } from 'react';\n\nimport type { AdEvent, AdsAPI, MediaTrack, PlayerError, TextTrack, THEOplayerViewProps, TimeRange } from 'react-native-theoplayer';\nimport {\n  AdEventNames,\n  MediaTrackEventType,\n  MediaTrackType,\n  TextTrackEventType,\n  THEOplayerViewComponent,\n  TrackListEventType,\n} from 'react-native-theoplayer';\nimport type { Event, TextTrackCue as NativeTextTrackCue, TrackChangeEvent } from 'theoplayer';\n\nimport type {\n  AddTrackEvent,\n  MediaTrack as NativeMediaTrack,\n  PresentationModeChangeEvent,\n  ReadyStateChangeEvent as NativeReadyStateChangeEvent,\n  RemoveTrackEvent,\n  TextTrack as NativeTextTrack,\n} from 'theoplayer';\nimport * as THEOplayer from 'theoplayer';\nimport { findNativeQualitiesByUid, fromNativeCue, fromNativeMediaTrack, fromNativeTextTrack } from './web/TrackUtils';\nimport { THEOplayerWebAdsAPI } from './ads/THEOplayerWebAdsAPI';\n\ninterface THEOplayerRCTViewState {\n  isBuffering: boolean;\n  error?: PlayerError;\n}\n\nexport class THEOplayerView extends PureComponent<THEOplayerViewProps, THEOplayerRCTViewState> implements THEOplayerViewComponent {\n  private _player: THEOplayer.ChromelessPlayer | null = null;\n  private readonly _adsApi: THEOplayerWebAdsAPI;\n\n  private static initialState: THEOplayerRCTViewState = {\n    isBuffering: false,\n    error: undefined,\n  };\n\n  constructor(props: THEOplayerViewProps) {\n    super(props);\n    this.state = THEOplayerView.initialState;\n    this._adsApi = new THEOplayerWebAdsAPI(this);\n  }\n\n  componentDidMount() {\n    const { config, source, abrConfig } = this.props;\n    const element = document.querySelector('.theoplayer-container') as HTMLElement;\n    if (config?.chromeless === true || config?.chromeless === undefined) {\n      this._player = new THEOplayer.ChromelessPlayer(element, {\n        libraryLocation: 'node_modules/theoplayer',\n        ...config,\n      });\n    } else {\n      this._player = new THEOplayer.Player(element, {\n        libraryLocation: 'node_modules/theoplayer',\n        ...config,\n        ui: {\n          fluid: true,\n        },\n      });\n    }\n\n    Object.assign(this._player.abr, abrConfig);\n    this._player.prepareWithUserAction();\n    this._player.source = source;\n    this.addEventListeners();\n  }\n\n  componentWillUnmount() {\n    if (this._player) {\n      this._player.destroy();\n    }\n  }\n\n  public seek(time: number): void {\n    if (isNaN(time)) {\n      throw new Error('Specified time is not a number');\n    }\n    if (this._player) {\n      this._player.currentTime = time / 1e3;\n    }\n  }\n\n  public get ads(): AdsAPI {\n    return this._adsApi;\n  }\n\n  public get nativePlayer(): THEOplayer.ChromelessPlayer | null {\n    return this._player;\n  }\n\n  private reset() {\n    this.setState(THEOplayerView.initialState);\n  }\n\n  componentDidUpdate(prevProps: Readonly<THEOplayerViewProps>) {\n    if (!this._player) {\n      return;\n    }\n    // track property changes\n    const { paused, volume, selectedTextTrack, selectedAudioTrack, selectedVideoTrack, targetVideoQuality, source, muted, playbackRate, fullscreen } =\n      this.props;\n    const {\n      paused: wasPaused,\n      selectedTextTrack: prevSelectedTextTrack,\n      selectedAudioTrack: prevSelectedAudioTrack,\n      selectedVideoTrack: prevSelectedVideoTrack,\n      targetVideoQuality: prevTargetVideoQuality,\n      source: prevSource,\n      muted: wasMuted,\n      playbackRate: prevPlaybackRate,\n      fullscreen: wasFullscreen,\n      volume: prevVolume,\n    } = prevProps;\n\n    if (source !== prevSource) {\n      this._player.source = source;\n    }\n    if (paused !== wasPaused) {\n      if (paused) {\n        this._player.pause();\n      } else {\n        this._player.play();\n      }\n    }\n    if (muted !== wasMuted) {\n      this._player.muted = Boolean(muted);\n    }\n    if (volume !== prevVolume) {\n      this._player.volume = Number(volume);\n    }\n    if (fullscreen !== wasFullscreen) {\n      const { onFullscreenPlayerWillPresent, onFullscreenPlayerWillDismiss } = this.props;\n      const appContainer = document.getElementById('app');\n      if (fullscreen) {\n        if (onFullscreenPlayerWillPresent) {\n          onFullscreenPlayerWillPresent();\n        }\n        appContainer?.requestFullscreen().then();\n      } else {\n        if (onFullscreenPlayerWillDismiss) {\n          onFullscreenPlayerWillDismiss();\n        }\n        document.exitFullscreen().then();\n      }\n    }\n    if (playbackRate && playbackRate !== prevPlaybackRate) {\n      this._player.playbackRate = playbackRate;\n    }\n    if (selectedTextTrack !== prevSelectedTextTrack) {\n      this._player.textTracks.forEach((textTrack: NativeTextTrack) => {\n        textTrack.mode = textTrack.uid === selectedTextTrack ? 'showing' : 'disabled';\n      });\n    }\n    if (selectedAudioTrack !== prevSelectedAudioTrack) {\n      this._player.audioTracks.forEach((audioTrack: NativeMediaTrack) => {\n        audioTrack.enabled = audioTrack.uid === selectedAudioTrack;\n      });\n    }\n    if (selectedVideoTrack !== prevSelectedVideoTrack) {\n      this._player.videoTracks.forEach((videoTrack: NativeMediaTrack) => {\n        videoTrack.enabled = videoTrack.uid === selectedVideoTrack;\n      });\n    }\n    if (targetVideoQuality != prevTargetVideoQuality) {\n      const videoTrack = this._player.videoTracks.find((videoTrack: NativeMediaTrack) => videoTrack.uid === selectedVideoTrack);\n      if (videoTrack) {\n        videoTrack.targetQuality = findNativeQualitiesByUid(videoTrack, targetVideoQuality);\n      }\n    }\n  }\n\n  private maybeChangeBufferingState(isBuffering: boolean) {\n    const { isBuffering: wasBuffering, error } = this.state;\n    const { paused } = this.props;\n\n    // do not change state to buffering in case of an error or if the player is paused\n    const newIsBuffering = isBuffering && !error && !paused;\n    this.setState({ isBuffering: newIsBuffering });\n\n    // notify change in buffering state\n    if (newIsBuffering !== wasBuffering && this.props.onBufferingStateChange) {\n      this.props.onBufferingStateChange(newIsBuffering);\n    }\n  }\n\n  private onAddTextTrackCue = (track: NativeTextTrack) => (event: Event<'addcue'>) => {\n    const { onTextTrackEvent } = this.props;\n    if (onTextTrackEvent) {\n      const { cue } = event as unknown as { cue: NativeTextTrackCue };\n      if (cue) {\n        onTextTrackEvent({\n          type: TextTrackEventType.AddCue,\n          trackUid: track.uid,\n          cue: fromNativeCue(cue),\n        });\n      }\n    }\n  };\n\n  private onRemoveTextTrackCue = (track: NativeTextTrack) => (event: Event<'removecue'>) => {\n    const { onTextTrackEvent } = this.props;\n    if (onTextTrackEvent) {\n      const { cue } = event as unknown as { cue: NativeTextTrackCue };\n      if (cue) {\n        onTextTrackEvent({\n          type: TextTrackEventType.RemoveCue,\n          trackUid: track.uid,\n          cue: fromNativeCue(cue),\n        });\n      }\n    }\n  };\n\n  private onActiveQualityChanged = (trackType: MediaTrackType, track: NativeMediaTrack) => () => {\n    const { onMediaTrackEvent } = this.props;\n    if (onMediaTrackEvent) {\n      const quality = track.activeQuality;\n      onMediaTrackEvent({\n        type: MediaTrackEventType.ActiveQualityChanged,\n        trackType,\n        trackUid: track.uid,\n        qualities: quality ? [quality] : undefined,\n      });\n    }\n  };\n\n  private addEventListeners() {\n    const player = this._player;\n    if (!player) {\n      return;\n    }\n\n    player.addEventListener('sourcechange', () => {\n      const { onSourceChange, paused } = this.props;\n\n      this.reset();\n      if (!paused) {\n        player.play();\n      }\n      if (onSourceChange) {\n        onSourceChange();\n      }\n    });\n\n    player.addEventListener('loadstart', () => {\n      // potentially notify change in buffering state\n      this.maybeChangeBufferingState(true);\n\n      const { onLoadStart } = this.props;\n      if (onLoadStart) {\n        onLoadStart();\n      }\n    });\n\n    player.addEventListener('loadeddata', () => {\n      const { onLoadedData } = this.props;\n      if (onLoadedData) {\n        onLoadedData();\n      }\n    });\n\n    player.addEventListener('loadedmetadata', () => {\n      const { onLoadedMetadata } = this.props;\n      if (onLoadedMetadata) {\n        onLoadedMetadata({\n          textTracks: player.textTracks.map((textTrack: NativeTextTrack) => fromNativeTextTrack(textTrack)),\n          audioTracks: player.audioTracks.map((audioTrack: NativeMediaTrack) => fromNativeMediaTrack(audioTrack)),\n          videoTracks: player.videoTracks.map((videoTrack: NativeMediaTrack) => fromNativeMediaTrack(videoTrack)),\n          duration: 1e3 * player.duration,\n          selectedTextTrack: player.textTracks.find((track: NativeTextTrack) => track.mode === 'showing')?.uid,\n          selectedVideoTrack: player.videoTracks.find((track: NativeMediaTrack) => track.enabled)?.uid,\n          selectedAudioTrack: player.audioTracks.find((track: NativeMediaTrack) => track.enabled)?.uid,\n        });\n      }\n    });\n\n    player.addEventListener('error', (event) => {\n      const { errorObject } = event;\n      const error = {\n        errorCode: errorObject.code.toString(),\n        errorMessage: errorObject.message,\n      };\n      this.setState({ error });\n\n      // potentially notify change in buffering state\n      this.maybeChangeBufferingState(false);\n\n      const { onError } = this.props;\n      if (onError) {\n        onError({ error });\n      }\n    });\n\n    player.addEventListener('progress', () => {\n      const { onProgress } = this.props;\n      if (onProgress) {\n        const seekable: TimeRange[] = [];\n        for (let i = 0; i < player.seekable.length; i++) {\n          seekable.push({\n            start: player.seekable.start(i) * 1e3,\n            end: player.seekable.end(i) * 1e3,\n          });\n        }\n        onProgress({ seekable });\n      }\n    });\n\n    player.addEventListener('play', () => {\n      const { onPlay } = this.props;\n      if (onPlay) {\n        onPlay();\n      }\n    });\n\n    player.addEventListener('playing', () => {\n      // potentially notify change in buffering state\n      this.maybeChangeBufferingState(false);\n\n      const { onPlaying } = this.props;\n      if (onPlaying) {\n        onPlaying();\n      }\n    });\n\n    player.addEventListener('pause', () => {\n      const { onPause } = this.props;\n      if (onPause) {\n        onPause();\n      }\n    });\n\n    player.addEventListener('seeking', () => {\n      const { onSeeking } = this.props;\n      if (onSeeking) {\n        onSeeking();\n      }\n    });\n\n    player.addEventListener('seeked', () => {\n      const { onSeeked } = this.props;\n      if (onSeeked) {\n        onSeeked();\n      }\n    });\n\n    player.addEventListener('ended', () => {\n      const { onEnded } = this.props;\n      if (onEnded) {\n        onEnded();\n      }\n    });\n\n    player.addEventListener('readystatechange', (event: NativeReadyStateChangeEvent) => {\n      // potentially notify change in buffering state\n      this.maybeChangeBufferingState(event.readyState < 3);\n\n      const { onReadyStateChange } = this.props;\n      if (onReadyStateChange) {\n        onReadyStateChange({ readyState: event.readyState });\n      }\n    });\n\n    player.addEventListener('timeupdate', () => {\n      const { onTimeUpdate } = this.props;\n      if (onTimeUpdate) {\n        onTimeUpdate({\n          currentTime: player.currentTime * 1e3,\n          currentProgramDateTime: player.currentProgramDateTime?.getTime(),\n        });\n      }\n    });\n    player.addEventListener('durationchange', (event) => {\n      const { onDurationChange } = this.props;\n      if (onDurationChange) {\n        onDurationChange({\n          duration: event.duration * 1e3,\n        });\n      }\n    });\n    player.addEventListener('segmentnotfound', () => {\n      const { onSegmentNotFound } = this.props;\n      if (onSegmentNotFound) {\n        onSegmentNotFound({\n          segmentStartTime: 0,\n          error: 'Segment not found',\n          retryCount: -1,\n        });\n      }\n    });\n\n    player.presentation.addEventListener('presentationmodechange', (event: PresentationModeChangeEvent) => {\n      const { presentationMode } = event;\n      const { onFullscreenPlayerDidPresent, onFullscreenPlayerDidDismiss } = this.props;\n      if (presentationMode === 'fullscreen') {\n        if (onFullscreenPlayerDidPresent) {\n          onFullscreenPlayerDidPresent();\n        }\n      } else if (presentationMode === 'inline') {\n        if (onFullscreenPlayerDidDismiss) {\n          onFullscreenPlayerDidDismiss();\n        }\n      }\n    });\n\n    player.textTracks.addEventListener('addtrack', (event: AddTrackEvent) => {\n      const track = event.track as NativeTextTrack;\n      track.addEventListener('addcue', this.onAddTextTrackCue(track));\n      track.addEventListener('removecue', this.onRemoveTextTrackCue(track));\n      this.dispatchTextTrackListEvent(TrackListEventType.AddTrack, track as TextTrack);\n    });\n\n    player.textTracks.addEventListener('removetrack', (event: RemoveTrackEvent) => {\n      const track = event.track as NativeTextTrack;\n      track.removeEventListener('addcue', this.onAddTextTrackCue(track));\n      track.removeEventListener('removecue', this.onRemoveTextTrackCue(track));\n      this.dispatchTextTrackListEvent(TrackListEventType.RemoveTrack, track as NativeTextTrack as TextTrack);\n    });\n\n    player.textTracks.addEventListener('change', (event: TrackChangeEvent) => {\n      this.dispatchTextTrackListEvent(TrackListEventType.ChangeTrack, event.track as NativeTextTrack as TextTrack);\n    });\n\n    [MediaTrackType.Audio, MediaTrackType.Video].forEach((trackType) => {\n      const mediaTracks = trackType === MediaTrackType.Audio ? player.audioTracks : player.videoTracks;\n      mediaTracks.addEventListener('addtrack', (event: AddTrackEvent) => {\n        const track = event.track as NativeMediaTrack;\n        track.addEventListener('activequalitychanged', this.onActiveQualityChanged(trackType, track));\n        this.dispatchMediaTrackListEvent(TrackListEventType.AddTrack, trackType, track as MediaTrack);\n      });\n    });\n\n    [MediaTrackType.Audio, MediaTrackType.Video].forEach((trackType) => {\n      const mediaTracks = trackType === MediaTrackType.Audio ? player.audioTracks : player.videoTracks;\n      mediaTracks.addEventListener('removetrack', (event: RemoveTrackEvent) => {\n        const track = event.track as NativeMediaTrack;\n        track.removeEventListener('activequalitychanged', this.onActiveQualityChanged(trackType, track));\n        this.dispatchMediaTrackListEvent(TrackListEventType.RemoveTrack, trackType, track as MediaTrack);\n      });\n    });\n\n    [MediaTrackType.Audio, MediaTrackType.Video].forEach((trackType) => {\n      const mediaTracks = trackType === MediaTrackType.Audio ? player.audioTracks : player.videoTracks;\n      mediaTracks.addEventListener('change', (event: TrackChangeEvent) => {\n        const track = event.track as NativeMediaTrack;\n        this.dispatchMediaTrackListEvent(TrackListEventType.ChangeTrack, trackType, track as MediaTrack);\n      });\n    });\n\n    player.ads?.addEventListener(AdEventNames, (event) => {\n      const { onAdEvent } = this.props;\n      if (onAdEvent) {\n        onAdEvent(event as AdEvent);\n      }\n    });\n  }\n\n  private dispatchTextTrackListEvent = (type: TrackListEventType, track: TextTrack) => {\n    const { onTextTrackListEvent } = this.props;\n    if (onTextTrackListEvent) {\n      onTextTrackListEvent({\n        type,\n        track,\n      });\n    }\n  };\n\n  private dispatchMediaTrackListEvent = (type: TrackListEventType, trackType: MediaTrackType, track: MediaTrack) => {\n    const { onMediaTrackListEvent } = this.props;\n    if (onMediaTrackListEvent) {\n      onMediaTrackListEvent({\n        type,\n        trackType,\n        track: track as MediaTrack,\n      });\n    }\n  };\n\n  public render(): JSX.Element {\n    const { config } = this.props;\n    const chromeless = config?.chromeless === undefined || config?.chromeless === true;\n\n    return (\n      <div id={'theoplayer-wrapper'}>\n        <div className={chromeless ? 'theoplayer-container' : 'theoplayer-container video-js theoplayer-skin'} />\n      </div>\n    );\n  }\n}\n"],"mappings":"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"}